#### CSS定位

##### 为什么需要定位？

如果我们想要子元素在父盒子内移动，也可以”压“住其他盒子，这时候浮动和标准流都无法实现，就需要**定位**了。

##### 定位的组成

定位=定位模式+边偏移

**定位模式**用于指定一个元素在文档中的位置，**边偏移**决定了元素的最终位置。

定位可用CSS中的`position`属性来设置，常用的属性：

| 值       | 语义     |
| -------- | -------- |
| static   | 静态定位 |
| relative | 相对定位 |
| absolute | 绝对定位 |
| fixed    | 固定定位 |

边偏移有4个值：top right bottom left分别表示相对父元素的上、右、下左边线的位置。

##### 静态定位static

元素的默认定位，表示**没有定位**的意思

##### 相对定位relative

相对定位是指元素在移动的时，相对它**原来的位置**的定位，但是移动时其他盒子不能”占据“它原来的位置（压在其他盒子上的关键），也就是说没有脱离标准流，继续保留原来的位置。

##### 绝对定位absolute

绝对定位是指元素在移动的时候，是相对其**祖先元素**来说的，这里有几种情况：

1. 如果<u>没有祖先元素</u>或者<u>祖先元素没有定位</u>，则以浏览器为准定位（基准）。
2. 如果祖先元素有相对、绝对或者固定定位，则子元素以最近一级有定位的祖先为基准点移动（就近原则）。
3. 绝对定位不占有原来的位置（**脱标**）。

重要的定位技巧：**子绝父相**

##### 固定定位fixed

固定定位的特点：

1. 以浏览器的**可视窗口**为基准（左上角）。
2. 固定定位不占有原来的位置（脱标）。

##### 粘性定位sticky

粘性定位混合了相对定位和固定定位的属性：

1. 以浏览器的可视窗口为基准
2. 仍然占有原先的位置（不脱标）
3. 必须添加top、left、bottom、right至少一个才生效。

粘性定位有兼容性问题（IE不支持）。

##### 绝对定位盒子居中

无法通过`margin: 0 auto;`来实现，可通过以下计算方法来实现：

```css
.box{
    /* 水平居中 */
    left: 50%;
    margin-left: -50px; /* 自身盒子宽度的一半 */
    /* 垂直居中 */
    top: 50%;
    margin-top: -50px; /* 自身盒子宽度的一半 */
}
```

##### 定位的特殊特性

1. 行内元素添加固定或者绝对定位就可设置宽高。

2. 块级元素添加绝对或者固定定位，如果不给宽度或者高度，**默认大小就是内容大小**。

3. 绝对定位（固定定位）会完全压住盒子，而浮动元素只会压住下面标准流的盒子，但不会压住标准流盒子里面的文字或图片，因为浮动最初设计的目的就是为了使文字环绕着图片的。

   ![2021-03-14_09-13-01.png](http://img.sinkcode.cn/2021/03/14/83ec69f853b7e.png)

4. 如果都有`left`、`right`属性，则会显示`left`属性的效果，同理也会执行`top`属性的。